"use strict";(self.webpackChunknola=self.webpackChunknola||[]).push([[110],{8110:(a,s,e)=>{e.r(s),e.d(s,{default:()=>y});const t="DraftsPage_drafts_container__jCBof",r="DraftsPage_title__6VZC0",d="DraftsPage_draftsList_container__UMKZs",i="DraftsPage_drafts_list__NUBOF",c="DraftsPage_drafts_item__FsOPK",l="DraftsPage_drafts_img__C-S43",n="DraftsPage_drafts_add__rgCQB",o="DraftsPage_img_back__ZdKRJ",_="DraftsPage_drafts_add_img__o5ZM3",f="DraftsPage_count__A2SfM",g="DraftsPage_settingPost_container__9bWzX",m="DraftsPage_edit__GDfRX",h="DraftsPage_attention__rQQOi";var v=e(5043);const P=e.p+"static/media/add_drafts.b51882d36d529fb0a23c9524432f2865.svg";const p=e.p+"static/media/edit.d688b6debcafe4d7cdd93ead42ba85ef.svg";const u=e.p+"static/media/deletePost.779a41d5153a5cb574c27e523410bbc5.svg";var x=e(3216),j=e(2382),b=e(5474),D=e(778),N=e(998),C=e(3401),k=e(579);const y=()=>{const a=(0,x.Zp)(),s=(0,x.wQ)(),[e,y]=(0,v.useState)(""),[$,O]=(0,v.useState)(!1);(0,v.useEffect)((()=>{O(!0);(async()=>{try{const a=await(0,j.et)(),s=null===a||void 0===a?void 0:a.data.filter((a=>"draft"===a.status));y(s)}catch(a){(0,b.a)(a)}finally{O(!1)}})()}),[]),(0,v.useEffect)((()=>{"POP"===s&&localStorage.removeItem("createPost")}),[s]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(C.N9,{}),$&&(0,k.jsx)("div",{className:"loader",children:(0,k.jsx)(N.$,{})}),!$&&(0,k.jsxs)("div",{className:t,children:[(0,k.jsx)("p",{className:`${r} dark:text-white `,children:"Add an advertisement"}),(0,k.jsx)("div",{className:d,children:(0,k.jsxs)("ul",{className:i,children:[(0,k.jsx)("li",{className:`${c} ${n}`,onClick:()=>{a("/main/addPost")},children:(0,k.jsx)("img",{src:null!==P&&void 0!==P?P:"",alt:"addDrafts",className:_})}),e&&(null===e||void 0===e?void 0:e.map((s=>{let{id:t,banners:r}=s;return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("div",{className:c,children:[(0,k.jsx)("img",{src:r[0]||r[1]||r[2],alt:"",className:`${l} ${o}`}),(0,k.jsx)("p",{className:f,children:"12 days"}),(0,k.jsxs)("div",{className:g,children:[(0,k.jsx)("img",{src:p,alt:"edit post",className:m,onClick:()=>{a(`/main/drafts/${t}`)}}),(0,k.jsx)("img",{src:u,alt:"delete post",onClick:()=>(async a=>{try{await(0,j.Qd)(a),y(e.filter((s=>s.id!==a))),(0,D.y)("Post has been deleted")}catch(s){(0,b.a)("Error! Try later")}})(t)})]})]},t)})})))]})}),(0,k.jsx)("p",{className:`${h} dark:text-white `,children:"Drafts are stored for 14 days. After that, they are permanently deleted."})]})]})}},5474:(a,s,e)=>{e.d(s,{a:()=>r});var t=e(3401);const r=a=>{t.oR.error(`${a}`,{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},778:(a,s,e)=>{e.d(s,{y:()=>r});var t=e(3401);e(2342);const r=a=>{(0,t.oR)(`${a}`,{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},2342:()=>{}}]);
//# sourceMappingURL=110.15b8d610.chunk.js.map