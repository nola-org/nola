"use strict";(self.webpackChunknola=self.webpackChunknola||[]).push([[7269],{3577:(t,e,a)=>{a.d(e,{h:()=>r});var n,s,i=a(5043);function l(){return l=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)({}).hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},l.apply(null,arguments)}function o(t,e){let{title:a,titleId:o,...r}=t;return i.createElement("svg",l({width:56,height:56,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:e,"aria-labelledby":o},r),a?i.createElement("title",{id:o},a):null,n||(n=i.createElement("path",{d:"M16.3333 28H39.6666",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),s||(s=i.createElement("path",{d:"M25.6666 18.6667L16.3333 28.0001L25.6666 37.3334",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const r=i.forwardRef(o);a.p},1465:(t,e,a)=>{a.d(e,{A:()=>d});a(5043);var n=a(5475);const s="GoBackButton_goBack__ZzB5R",i="GoBackButton_titleRecovery__QYtyY",l="GoBackButton_iconDark__uKQvR";var o=a(7914),r=a(3577),c=a(579);const d=t=>{let{to:e,title:a,imgSrc:d,imgAlt:_,imgWidth:h,imgHeight:m,onClick:b}=t;const{theme:u,setTheme:p}=(0,o.y)();return(0,c.jsxs)("div",{className:s,children:[(0,c.jsx)(n.N_,{to:e,onClick:b,className:"dark"===u?l:"",children:(0,c.jsx)(r.h,{})}),(0,c.jsx)("h3",{className:`${i} dark:text-white`,children:a})]})}},9367:(t,e,a)=>{a.d(e,{a:()=>_});const n="Modal_backdrop__bhG2y",s="Modal_modal__quYqb",i="Modal_children__lIYUp",l="Modal_modal_title__v+1Yd",o="Modal_modal_descr__a-7tP",r="Modal_modal_btn__0avU-",c="Modal_modal_text__pEPCJ";var d=a(579);const _=t=>{let{confirm:e,cancel:a,title:_,description:h,info:m,handleToggleModal:b,btn_text_confirm:u="Confirm",btn_text_cancel:p="Cancel",childrenEl:g=!1,children:v}=t;return(0,d.jsx)("div",{className:n,onClick:t=>{const{target:e,currentTarget:a}=t;e===a&&b()},children:(0,d.jsx)("div",{className:`${s} dark:bg-black`,children:(0,d.jsx)("div",{className:i,children:g?v:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h2",{className:l,children:_}),(0,d.jsx)("p",{className:o,children:h}),m?(0,d.jsx)("p",{className:o,children:m}):"",(0,d.jsx)("button",{type:"button",className:r,onClick:e,children:u}),(0,d.jsx)("p",{type:"button",className:`${c} dark:text-white`,onClick:a,children:p})]})})})})}},157:(t,e,a)=>{a.r(e),a.d(e,{default:()=>u});var n=a(5043),s=a(3216),i=a(2382),l=a(3401),o=a(3712);const r={top_container:"AddPostPage_top_container__L3kbY",title_back:"AddPostPage_title_back__h16Q6",btn_container:"AddPostPage_btn_container__qH9XC",btn_preview_container:"AddPostPage_btn_preview_container__SCnpe",btn_preview:"AddPostPage_btn_preview__bxgyO",btn:"AddPostPage_btn__I-hDg",btn_active:"AddPostPage_btn_active__PJF7b",btn_disabled:"AddPostPage_btn_disabled__bL330"};var c=a(5474),d=a(1623),_=a(1465),h=a(9367),m=a(3881),b=a(579);const u=t=>{let{postEdit:e,setPostEdit:a,draftsEdit:u,setDraftsEdit:p}=t;const g=(0,s.zy)(),v=(0,s.Zp)(),[k,x]=(0,n.useState)(!1),[j,f]=(0,n.useState)(!1),[w,P]=(0,n.useState)(!1),[y,N]=(0,n.useState)(!1),[A,C]=(0,n.useState)({}),[E,M]=(0,n.useState)((()=>{var t,e;return null!==(t=null===g||void 0===g||null===(e=g.state)||void 0===e?void 0:e.links)&&void 0!==t?t:[{id:(0,o.Ak)(),href:"",action:""}]})),[S,L]=(0,n.useState)((()=>{var t;return null!==(t=g.state)&&void 0!==t?t:{title:"",description:"",category:{id:"",name:""},subcategory:{id:"",name:""},callToAction:"Read more",callToActionLinks:"",banners:[],status:"draft"}}));(0,n.useEffect)((()=>{(async t=>{const{data:e}=await(0,i.Sz)();C(null===(t=e.profile_picture)||void 0===t?void 0:t.replace("image/upload/",""))})()}),[]);(0,n.useEffect)((()=>{""!==S.title&&""!==S.category&&""!==S.subcategory&&0!==S.banners.length?N(!0):N(!1)}),[S.category,S.subcategory,S.title,S.banners]);return(0,b.jsxs)("div",{children:[!w&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.N9,{}),(0,b.jsxs)("div",{className:r.top_container,onClick:()=>{x((t=>!t))},children:[(0,b.jsx)(_.A,{to:"",imgWidth:"50px",imgHeight:"50px",imgAlt:"Go back"}),(0,b.jsx)("p",{className:`${r.title_back} dark:text-white`,children:"New advertisement"})]}),(0,b.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),console.log("post",S);try{await(0,i.rK)({...S,status:"pending"});P(!0),setTimeout((()=>{v("/main")}),3e3)}catch(e){(0,c.a)(e.message||"Try again later.")}},children:[(0,b.jsx)(m.z,{setPost:L,post:S,links:E,setLinks:M}),(0,b.jsxs)("div",{className:r.btn_container,children:[(0,b.jsx)("button",{type:"button",className:r.btn_preview_container,onClick:()=>{console.log("handlePreview",S),v("/main/addPost/previewAdvertisemet",{state:{data:S,profile:A,from:g.pathname}})},children:(0,b.jsx)("span",{className:`${r.btn_preview} dark:text-white`,children:"Preview"})}),(0,b.jsx)("button",{type:"submit",className:`${r.btn} ${y?r.btn_active:r.btn_disabled}`,disabled:!y,children:(0,b.jsx)("span",{className:r.btn_back_active,children:"Publish"})})]})]})]}),k&&(0,b.jsxs)(h.a,{handleToggleModal:()=>{x((t=>!t))},confirm:async()=>{try{x((t=>!t));const t=await(0,i.rK)({...S,status:"draft"});console.log("drafts",t),v("/main")}catch(t){console.log(t)}},cancel:()=>{v("/main"),x((t=>!t))},title:"Add post to draft?",description:"You can come back to edit later.",children:[(0,b.jsx)("h2",{className:r.modal_title,children:"Add post to draft?"}),(0,b.jsx)("p",{className:r.modal_descr,children:"You can come back to edit later."})]}),w&&(0,b.jsxs)(d.Z,{children:["Advertisement is under moderation. ",(0,b.jsx)("br",{}),"It will take about 15 minutes."]})]})}}}]);
//# sourceMappingURL=7269.9db9824d.chunk.js.map