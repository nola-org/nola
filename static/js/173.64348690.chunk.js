"use strict";(self.webpackChunknola=self.webpackChunknola||[]).push([[173],{5821:(t,e,s)=>{s.r(e),s.d(e,{default:()=>_});const a="EditPostPage_btn_container__mlXEg",i="EditPostPage_btn__iiJWb",n="EditPostPage_btn_active__L9IGU",o="EditPostPage_btn_back__L8v28",l="EditPostPage_btn_back_active__PZts-";var r=s(5043),c=s(3216),d=s(2382),u=s(3401),m=s(5474),g=s(6298),h=(s(778),s(1623)),b=s(3712),P=s(579);const _=()=>{const t=(0,c.zy)(),e=(0,c.Zp)(),s=(0,c.g)(),[_,p]=(0,r.useState)(!1),[v,k]=(0,r.useState)(!1),[x,j]=(0,r.useState)([]),[y,f]=(0,r.useState)((()=>[{id:(0,b.Ak)(),url:"",name:""}])),[w,E]=(0,r.useState)(0!==x.length||{description:"",title:"",category:{index:null,title:""},subcategory:{index:null,title:""},callToAction:"Read more",callToActionLinks:"",banners:[]});(0,r.useEffect)((()=>{(async()=>{try{if(t.state)return j(t.state),E(t.state),void f(t.state.links);const{data:e}=await(0,d.iM)(s.editPostId);j(e),f(e.links)}catch(e){console.log(e)}})()}),[s,w,t.state]);return(0,P.jsxs)("div",{children:["EditPostPage",(0,P.jsx)(u.N9,{}),!v&&(0,P.jsx)("div",{children:(0,P.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),p(!0);try{await(0,d.hM)(s.editPostId,{...x,status:"pending"});k(!0),localStorage.removeItem("previewPost"),setTimeout((()=>{e("/main")}),3e3)}catch(a){(0,m.a)(a.message||"Try again later.")}},children:[(0,P.jsx)(g.z,{post:x,setPost:j,links:y,setLinks:f}),(0,P.jsxs)("div",{className:a,onClick:()=>{console.log(w),e("/main/addPost/previewAdvertisemet",{state:{data:x,from:t.pathname}})},children:[(0,P.jsx)("button",{type:"button",className:i,children:(0,P.jsx)("span",{className:o,children:" Preview"})}),(0,P.jsx)("button",{type:"submit",className:`${i} ${n}`,children:(0,P.jsx)("span",{className:l,children:"Publish"})})]})]})}),v&&(0,P.jsxs)(h.Z,{children:["Advertisement is under moderation. ",(0,P.jsx)("br",{}),"It will take about 15 minutes."]})]})}},778:(t,e,s)=>{s.d(e,{y:()=>i});var a=s(3401);s(2342);const i=t=>{(0,a.oR)(`${t}`,{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},2342:()=>{}}]);
//# sourceMappingURL=173.64348690.chunk.js.map