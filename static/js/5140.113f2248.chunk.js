"use strict";(self.webpackChunknola=self.webpackChunknola||[]).push([[5140],{9367:(e,s,t)=>{t.d(s,{a:()=>h});const a="Modal_backdrop__bhG2y",l="Modal_modal__quYqb",i="Modal_children__lIYUp",r="Modal_modal_title__v+1Yd",n="Modal_modal_descr__a-7tP",o="Modal_modal_btn__0avU-",d="Modal_modal_text__pEPCJ";var c=t(579);const h=e=>{let{confirm:s,cancel:t,title:h,description:v,info:_,handleToggleModal:u,btn_text_confirm:g="Confirm",btn_text_cancel:m="Cancel",childrenEl:p=!1,children:P}=e;return(0,c.jsx)("div",{className:a,onClick:e=>{const{target:s,currentTarget:t}=e;s===t&&u()},children:(0,c.jsx)("div",{className:`${l} dark:bg-black`,children:(0,c.jsx)("div",{className:i,children:p?P:(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h2",{className:r,children:h}),(0,c.jsx)("p",{className:n,children:v}),_?(0,c.jsx)("p",{className:n,children:_}):"",(0,c.jsx)("button",{type:"button",className:o,onClick:s,children:g}),(0,c.jsx)("p",{type:"button",className:`${d} dark:text-white`,onClick:t,children:m})]})})})})}},5140:(e,s,t)=>{t.r(s),t.d(s,{SavedPostsPage:()=>$,default:()=>O});var a=t(5475);const l="SavedPostsPage_title__fVFrK",i="SavedPostsPage_list__NdlYq",r="SavedPostsPage_item__6cIC6",n="SavedPostsPage_img__h4kCK",o="SavedPostsPage_item_footer__2B8kP",d="SavedPostsPage_item_description__KeAhY",c="SavedPostsPage_item_btn__YS5tW",h="SavedPostsPage_iconDark__JSFuK",v="SavedPostsPage_container__svGzl",_="SavedPostsPage_title_empty__BzukX",u="SavedPostsPage_description__5NqX+";var g,m=t(5043);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},p.apply(null,arguments)}function P(e,s){let{title:t,titleId:a,...l}=e;return m.createElement("svg",p({width:14,height:19,viewBox:"0 0 14 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":a},l),t?m.createElement("title",{id:a},t):null,g||(g=m.createElement("path",{d:"M12 0.19043H2C0.9 0.19043 0 1.09043 0 2.19043V18.1904L7 15.1904L14 18.1904V2.19043C14 1.09043 13.1 0.19043 12 0.19043Z",fill:"#666666"})))}const f=m.forwardRef(P);t.p;t(778);var x=t(3401),b=t(9367),S=t(7914),j=t(2382),k=t(5474),y=t(8406),N=t(5546),C=t(1910),w=t(579);const $=()=>{const{token:e}=(0,y.A)(),{theme:s}=(0,S.y)(),[t,g]=(0,m.useState)([]),[p,P]=(0,m.useState)(!0),[$,O]=(0,m.useState)(null),{savedPosts:I,isSaved:M,toggleSave:E}=(0,C.J)();(0,m.useEffect)((()=>{if(e)return P(!0),void(0,j.CC)().then((e=>g(e))).catch((()=>(0,k.a)("Error loading saved posts"))).finally((()=>P(!1)));g(I),P(!1)}),[e,I]);return(0,w.jsxs)("div",{children:[(0,w.jsx)(x.N9,{}),(0,w.jsx)("h1",{className:l,children:"My saved"}),p&&(0,w.jsx)("div",{className:"loader",children:(0,w.jsx)(N.$,{})}),t.length>0?(0,w.jsx)("ul",{className:i,children:t.map((e=>(0,w.jsxs)("li",{className:r,children:[(0,w.jsx)(a.k2,{to:`/main/${e.id}`,children:(0,w.jsx)("img",{src:e.banners[0]||e.banners[1]||e.banners[2],alt:"",className:n})}),(0,w.jsxs)("div",{className:o,children:[(0,w.jsx)(a.k2,{to:`/${e.advertiser.id}`,children:(0,w.jsx)("p",{className:`${d} dark:text-white`,children:e.title})}),(0,w.jsx)("button",{type:"button",className:`${c} ${"dark"===s?h:""}`,onClick:()=>O(e.id),children:(0,w.jsx)(f,{})})]})]},e.id)))}):(0,w.jsxs)("div",{className:v,children:[(0,w.jsx)("h2",{className:`${_} dark:text-white`,children:"This list is empty"}),(0,w.jsx)("p",{className:`${u} dark:text-white`,children:"Add something you\u2019ve liked from the main page"})]}),$&&(0,w.jsx)(b.a,{title:"Are you sure you want to delete?",confirm:()=>{return E({id:e=$}),g((s=>s.filter((s=>s.id!==e)))),void O(null);var e},cancel:()=>O(null)})]})},O=$},5474:(e,s,t)=>{t.d(s,{a:()=>l});var a=t(3401);const l=e=>{a.oR.error(`${e}`,{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},778:(e,s,t)=>{t.d(s,{y:()=>l});var a=t(3401);t(2342);const l=e=>{(0,a.oR)(`${e}`,{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}},1910:(e,s,t)=>{t.d(s,{J:()=>d});var a=t(5043),l=t(8406),i=t(5474),r=t(2382),n=t(778);const o="savedPost";function d(){const{token:e}=(0,l.A)(),[s,t]=(0,a.useState)((()=>{var e;return null!==(e=JSON.parse(localStorage.getItem("savedPostId")))&&void 0!==e?e:[]})),[d,c]=(0,a.useState)((()=>{var e;return null!==(e=JSON.parse(localStorage.getItem(o)))&&void 0!==e?e:[]}));(0,a.useEffect)((()=>{e&&(async()=>{try{const e=(await(0,r.CC)()).map((e=>e.id));t(e)}catch(e){(0,i.a)(null===e||void 0===e?void 0:e.message)}})()}),[e]),(0,a.useEffect)((()=>{e||(localStorage.setItem("savedPostId",JSON.stringify(s)),localStorage.setItem(o,JSON.stringify(d)))}),[s,d,e]);const h=(0,a.useCallback)((async a=>{const l=a.id;if(e)try{s.includes(l)?(await(0,r.Dx)(l),(0,i.a)("Post has been deleted"),t((e=>e.filter((e=>e!==l))))):(await(0,r.Ki)(l,{}),(0,n.y)("Post successfully saved"),t((e=>[...e,l])))}catch(o){(0,i.a)(null===o||void 0===o?void 0:o.message)}else t((e=>e.includes(l)?e.filter((e=>e!==l)):[...e,l])),c((e=>e.some((e=>e.id===l))?((0,i.a)("Post has been deleted"),e.filter((e=>e.id!==l))):((0,n.y)("Post successfully saved"),[...e,a])))}),[e,s,d]),v=(0,a.useCallback)((e=>s.includes(e)),[s]);return{savedPostIds:s,savedPosts:d,isSaved:v,toggleSave:h}}},5546:(e,s,t)=>{t.d(s,{$:()=>i});var a=t(2942),l=t(579);const i=()=>(0,l.jsx)(a.q0,{visible:!0,height:"100",width:"100",color:"#eccd43",ariaLabel:"three-circles-loading",wrapperStyle:{},wrapperClass:""})},2342:()=>{}}]);
//# sourceMappingURL=5140.113f2248.chunk.js.map