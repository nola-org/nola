"use strict";(self.webpackChunknola=self.webpackChunknola||[]).push([[54],{3419:(e,t,s)=>{s.d(t,{h:()=>a});var r,o=s(5043);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},i.apply(null,arguments)}function n(e,t){let{title:s,titleId:n,...a}=e;return o.createElement("svg",i({width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},a),s?o.createElement("title",{id:n},s):null,r||(r=o.createElement("path",{d:"M5.55068 2.01L5.55109 2.00979C6.01674 1.77202 6.54903 1.65701 7.25204 1.59865C7.94719 1.54237 8.82034 1.54199 9.97036 1.54199H9.9987H10.027C11.1774 1.54199 12.0504 1.54238 12.7452 1.59948L12.7454 1.59949C13.4483 1.657 13.9806 1.77199 14.4463 2.0098L14.4467 2.01C15.2543 2.42147 15.9109 3.07805 16.3224 3.88565L16.3226 3.88605C16.5605 4.35195 16.6762 4.88441 16.7337 5.58654C16.79 6.28176 16.7904 7.15504 16.7904 8.30533V18.3336C16.7904 18.3549 16.7849 18.3759 16.7746 18.3945C16.7642 18.4131 16.7492 18.4287 16.7311 18.44C16.713 18.4512 16.6923 18.4575 16.671 18.4585C16.6498 18.4595 16.6288 18.455 16.6098 18.4456C16.6097 18.4456 16.6096 18.4455 16.6095 18.4455L14.7131 17.4973C12.9583 16.6199 12.101 16.1923 11.2048 16.0247C10.4077 15.8751 9.58971 15.8751 8.7926 16.0247C7.8964 16.1923 7.03911 16.6199 5.28426 17.4973L3.38787 18.4446C3.36882 18.4542 3.34766 18.4586 3.3264 18.4577C3.30513 18.4567 3.28447 18.4503 3.26635 18.4392C3.24824 18.428 3.23329 18.4124 3.22291 18.3938C3.21256 18.3752 3.2071 18.3544 3.20703 18.3332V8.30533C3.20703 7.15493 3.20742 6.28198 3.26452 5.58711L3.26453 5.58693C3.32204 4.88408 3.43703 4.35174 3.67483 3.88605L3.67504 3.88565C4.08651 3.07805 4.74309 2.42147 5.55068 2.01Z",stroke:"black"})))}const a=o.forwardRef(n);s.p},1476:(e,t,s)=>{s.d(t,{I:()=>a});const r={img:"Banners_img__v5X+d"};var o=s(4975),i=(s(4014),s(2193),s(5084),s(3874),s(8385)),n=s(579);const a=e=>{var t;let{key:s,banner:a}=e;return(0,n.jsx)(n.Fragment,{children:a&&(null===(t=[a])||void 0===t?void 0:t.map((e=>(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(o.RC,{slidesPerView:1,spaceBetween:30,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev",clickable:!0},modules:[i.t9,i.dK,i.Vx,i.Ij],className:r.swiper_container,children:[e[0]&&(0,n.jsx)(o.qr,{style:{width:"80%"},className:r.swiper_slide,children:(0,n.jsx)("img",{src:e[0],alt:"",className:r.img})},e[0]),e[1]&&(0,n.jsx)(o.qr,{style:{width:"80%"},className:r.swiper_slide,children:(0,n.jsx)("img",{src:e[1],alt:"",className:r.img})},e[1]),e[2]&&(0,n.jsx)(o.qr,{style:{width:"80%"},className:r.swiper_slide,children:(0,n.jsx)("img",{src:e[2],alt:"",className:r.img})},e[2]),(0,n.jsxs)("div",{className:"slider-controler",children:[(0,n.jsx)("div",{className:"swiper-button-prev slider-arrow",style:{color:"transparent"}}),(0,n.jsx)("div",{className:"swiper-button-next slider-arrow",style:{color:"transparent"}}),(0,n.jsx)("div",{className:"swiper-pagination",style:{position:"relative",bottom:"2px"}})]})]})}))))})}},8054:(e,t,s)=>{s.d(t,{A:()=>j});var r=s(5043),o=Object.defineProperty,i=(e,t,s)=>((e,t,s)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s)(e,"symbol"!==typeof t?t+"":t,s),n=new Map,a=new WeakMap,l=0,c=void 0;function d(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>{return`${t}_${"root"===t?(s=e.root,s?(a.has(s)||(l+=1,a.set(s,l.toString())),a.get(s)):"0"):e[t]}`;var s})).toString()}function u(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){const o=e.getBoundingClientRect();return t(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof s.threshold?s.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const{id:o,observer:i,elements:a}=function(e){const t=d(e);let s=n.get(t);if(!s){const r=new Map;let o;const i=new IntersectionObserver((t=>{t.forEach((t=>{var s;const i=t.isIntersecting&&o.some((e=>t.intersectionRatio>=e));e.trackVisibility&&"undefined"===typeof t.isVisible&&(t.isVisible=i),null==(s=r.get(t.target))||s.forEach((e=>{e(i,t)}))}))}),e);o=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),s={id:t,observer:i,elements:r},n.set(t,s)}return s}(s),l=a.get(e)||[];return a.has(e)||a.set(e,l),l.push(t),i.observe(e),function(){l.splice(l.indexOf(t),1),0===l.length&&(a.delete(e),i.unobserve(e)),0===a.size&&(i.disconnect(),n.delete(o))}}r.Component;var v,g,h=s(3419);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)({}).hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},f.apply(null,arguments)}function m(e,t){let{title:s,titleId:o,...i}=e;return r.createElement("svg",f({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},i),s?r.createElement("title",{id:o},s):null,v||(v=r.createElement("path",{d:"M17 12H7",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),g||(g=r.createElement("path",{d:"M13 8L17 12L13 16",stroke:"black",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}const p=r.forwardRef(m),_=(s.p,{img:"Posts_img__a5M8m",card:"Posts_card__vneTg",title:"Posts_title__i7Aaw",post_header:"Posts_post_header__tUfKH",footer:"Posts_footer__6yHbi",icon:"Posts_icon__K2EG3",footer_title:"Posts_footer_title__iWUnv",footer_left:"Posts_footer_left__RCvJF",footer_action:"Posts_footer_action__O9cvc",count:"Posts_count__qvtN6",action:"Posts_action__jhq0d",save_btn:"Posts_save_btn__M6e3b",iconSaveDark:"Posts_iconSaveDark__4NAmh",iconSave:"Posts_iconSave__DlEsX",iconDark:"Posts_iconDark__HvI3J"});var b=s(3216),w=s(5475),y=s(7914),k=s(1910),x=(s(1476),s(579));const j=e=>{var t;let{post:s,handleSavePost:o,savedPost:i,elementId:n}=e;const{id:a,banners:l,title:c,callToAction:d,advertiser:v,callToActionLinks:g}=s,{theme:f,postsId:m,setPostsId:j}=(0,y.y)(),{isDisabled:C}=(0,k.J)(),S=((0,b.zy)(),(0,r.useRef)()),{ref:I}=function(){let{threshold:e,delay:t,trackVisibility:s,rootMargin:o,root:i,triggerOnce:n,skip:a,initialInView:l,fallbackInView:c,onChange:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var v;const[g,h]=r.useState(null),f=r.useRef(),[m,p]=r.useState({inView:!!l,entry:void 0});f.current=d,r.useEffect((()=>{if(a||!g)return;let r;return r=u(g,((e,t)=>{p({inView:e,entry:t}),f.current&&f.current(e,t),t.isIntersecting&&n&&r&&(r(),r=void 0)}),{root:i,rootMargin:o,threshold:e,trackVisibility:s,delay:t},c),()=>{r&&r()}}),[Array.isArray(e)?e.toString():e,g,i,o,n,a,s,c,t]);const _=null==(v=m.entry)?void 0:v.target,b=r.useRef();g||!_||n||a||b.current===_||(b.current=_,p({inView:!!l,entry:void 0}));const w=[h,m.inView,m.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}(),N=(0,r.useCallback)((e=>{S.current=e,I(e)}),[I]);return(0,r.useEffect)((()=>{var e;m!==a?j(""):null===(e=S.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[a,m,j]),(0,x.jsx)("li",{id:n,ref:N,className:`${_.card} ${_.container}`,children:(0,x.jsxs)("div",{className:`${_.post_header} ${"dark"===f?_.iconDark:""}`,children:[(0,x.jsxs)("div",{className:`${_.footer} ${"dark"===f?_.iconDark:""}`,children:[(0,x.jsxs)(w.k2,{to:`/${v.id}`,state:{postId:s.id},className:_.footer_left,children:[(0,x.jsx)("img",{src:null===(t=v.profile_picture)||void 0===t?void 0:t.replace("image/upload/",""),alt:"",className:_.icon}),(0,x.jsx)("h3",{className:`${_.footer_title} dark:text-white`,children:c})]}),(0,x.jsx)("button",{type:"button",onClick:o,className:_.save_btn,disabled:C,children:i?(0,x.jsx)("div",{className:"dark"===f?_.iconSaveDark:_.iconSave,children:(0,x.jsx)(h.h,{})}):(0,x.jsx)(h.h,{})})]}),(0,x.jsx)("span",{className:`${_.line} dark:bg-white`}),(0,x.jsx)(w.k2,{to:`/main/${a}`,className:_.img,children:(0,x.jsx)("img",{src:l[0]||l[1]||l[2],alt:"",className:_.img})}),(0,x.jsxs)("div",{className:_.footer_action,children:[(0,x.jsx)(w.k2,{to:`${g}`,target:"blank",className:`${_.action} dark:text-white`,children:d}),(0,x.jsx)(w.k2,{to:`${g}`,target:"blank",children:(0,x.jsx)(p,{})})]})]})})}},778:(e,t,s)=>{s.d(t,{y:()=>i});var r=s(3401);s(2342);let o=!1;const i=e=>{o||(o=!0,(0,r.oR)(`${e}`,{onClose:()=>{o=!1},position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}))}},1910:(e,t,s)=>{s.d(t,{J:()=>c});var r=s(5043),o=s(8406),i=s(5474),n=s(2382),a=s(778);const l="savedPost";function c(){const{token:e}=(0,o.A)(),t=(0,r.useRef)(!0),[s,c]=((0,r.useRef)(!1),(0,r.useState)((()=>{var e;return null!==(e=JSON.parse(localStorage.getItem("savedPostId")))&&void 0!==e?e:[]}))),[d,u]=(0,r.useState)((()=>{var e;return null!==(e=JSON.parse(localStorage.getItem(l)))&&void 0!==e?e:[]})),[v,g]=(0,r.useState)(!1);(0,r.useEffect)((()=>{try{const e=localStorage.getItem("persist:auth");if(!e)return void(t.current=!0);const s=JSON.parse(e),r=s.token?JSON.parse(s.token):null;t.current=!r}catch(e){t.current=!0}}),[]),(0,r.useEffect)((()=>{if(!e)return t.current||(c([]),u([]),localStorage.removeItem("savedPostId"),localStorage.removeItem(l),window.location.reload()),localStorage.setItem("savedPostId",JSON.stringify([])),void localStorage.setItem(l,JSON.stringify([]));(async()=>{try{var e;const s=(await(0,n.CC)()).map((e=>e.id)),r=(null!==(e=JSON.parse(localStorage.getItem(l)))&&void 0!==e?e:[]).filter((e=>!s.includes(e.id)));for(const e of r)try{await(0,n.Ki)(e.id,e)}catch(t){console.error(`\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u043f\u043e\u0441\u0442\u0430 ID=${e.id}`,t)}const o=[...new Set([...s,...r.map((e=>e.id))])];c(o),u([]),localStorage.removeItem("savedPostId"),localStorage.removeItem(l)}catch(t){(0,i.a)(null===t||void 0===t?void 0:t.message)}})()}),[e]),(0,r.useEffect)((()=>{!e&&t.current&&(localStorage.setItem("savedPostId",JSON.stringify(s)),localStorage.setItem(l,JSON.stringify(d)))}),[s,d,e]);const h=(0,r.useCallback)((async t=>{const r=t.id;if(e)try{s.includes(r)?(await(0,n.Dx)(r),(0,i.a)("Post has been deleted"),c((e=>e.filter((e=>e!==r))))):(await(0,n.Ki)(r,{}),(0,a.y)("Post successfully saved"),c((e=>[...e,r])))}catch(o){(0,i.a)(null===o||void 0===o?void 0:o.message)}else c((e=>e.includes(r)?e.filter((e=>e!==r)):[...e,r])),u((e=>e.some((e=>e.id===r))?((0,i.a)("Post has been deleted"),e.filter((e=>e.id!==r))):((0,a.y)("Post successfully saved"),[...e,t])))}),[e,s,d]),f=(0,r.useCallback)((e=>s.includes(e)),[s]);return{savedPostIds:s,savedPosts:d,isSaved:f,toggleSave:h,isDisabled:v,setIsDisabled:g}}},2342:()=>{},2193:()=>{}}]);
//# sourceMappingURL=54.8319849d.chunk.js.map